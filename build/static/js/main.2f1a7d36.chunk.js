(this["webpackJsonpsocial-ape-client"]=this["webpackJsonpsocial-ape-client"]||[]).push([[0],{101:function(e,a,t){e.exports=t(151)},106:function(e,a,t){},151:function(e,a,t){"use strict";t.r(a);var n,r=t(0),o=t.n(r),i=t(8),l=t.n(i),c=t(15),s=t(11),m=t(20),d=t(21),u=t(22),h=t(18),p=t(36),g=(t(106),t(87)),f=t.n(g),E=t(93),b=t.n(E),v=t(59),O=t.n(v),w=t(31),y=t.n(w),j=t(186),S=t(60),x=t.n(S),N=t(88),T=t.n(N),C=t(42),I=t.n(C),k=t(181),_=t(183),R=t(184),U=t(185),P=function(e){function a(){return Object(c.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){x.a.extend(T.a);var e=this.props,a=e.classes,t=e.scream,n=t.body,r=t.createdAt,i=t.userImage,l=t.userHandle;t.screamId,t.likeCount,t.commentCount;return o.a.createElement(k.a,{className:a.card},o.a.createElement(_.a,{image:i,title:"Profile Image",className:a.image}),o.a.createElement(R.a,{className:a.content},o.a.createElement(U.a,{variant:"h5",component:h.b,to:"/users/".concat(l),color:"primary"},l),o.a.createElement(U.a,{variant:"body2",color:"textSecondary"},x()(r).fromNow()),o.a.createElement(U.a,{variant:"body1",color:"textSecondary"},n)))}}]),a}(r.Component),A=I()({card:{display:"flex",marginBottom:90,width:"80%",height:"80%"},image:{minWidth:"30%",height:"100%"},content:{padding:60,objectFit:"cover"}})(P),D=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={screams:null},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;y.a.get("/screams").then((function(a){e.setState({screams:a.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.screams?this.state.screams.map((function(e){return o.a.createElement(A,{key:e.screamId,scream:e})})):o.a.createElement("p",null,"Loading...");return o.a.createElement(j.a,{container:!0,spacing:16},o.a.createElement(j.a,{item:!0,sm:8,xs:12},e),o.a.createElement(j.a,{item:!0,sm:4,xs:12},o.a.createElement("p",null,"Profile...")))}}]),a}(r.Component),F=t(13),W=t(16),L=t(26),B=t(52),H=t.n(B),V=t(53),z=t.n(V),X=t(190),G=t(191),J=t(187),M=t(54),$=function(){return function(e){y.a.get("/user").then((function(a){e({type:"SET_USER",payload:a.data})})).catch((function(e){return console.log(e)}))}},q=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(m.a)(this,Object(d.a)(a).call(this))).handleSubmit=function(a){a.preventDefault();var t={email:e.state.email,password:e.state.password};e.props.loginUser(t,e.props.history)},e.handleChange=function(a){e.setState(Object(F.a)({},a.target.name,a.target.value))},e.state={email:"",password:"",errors:{}},e.handleSubmit=e.handleSubmit.bind(Object(W.a)(e)),e.handleChange=e.handleChange.bind(Object(W.a)(e)),e}return Object(u.a)(a,e),Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this.props,a=e.classes,t=e.UI.loading,n=this.state.errors;return o.a.createElement(j.a,{container:!0,className:a.form},o.a.createElement(U.a,{variant:"h3",className:a.pageTitle},"Created with react",o.a.createElement("img",{src:z.a,alt:"media",className:a.image2})),o.a.createElement(j.a,{item:!0,sm:!0}),o.a.createElement(j.a,{item:!0,sm:!0},o.a.createElement("img",{src:H.a,alt:"media",className:a.image}),o.a.createElement(U.a,{variant:"h2",className:a.pageTitle},"LogIn"),o.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},o.a.createElement(X.a,{id:"email",name:"email",type:"email",label:"Email",className:a.textField,helperText:n.email,error:!!n.email,value:this.state.email,onChange:this.handleChange,fullWidth:!0}),o.a.createElement(X.a,{id:"password",name:"password",type:"password",label:"Password",className:a.textField,helperText:n.password,error:!!n.password,value:this.state.password,onChange:this.handleChange,fullWidth:!0}),n.general&&o.a.createElement(U.a,{variant:"body2",className:a.customError},n.general),o.a.createElement(G.a,{type:"submit",variant:"contained",color:"primary",classsName:a.button,disabled:t},"login",t&&o.a.createElement(J.a,{size:30,className:a.progress})),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("small",null,"don't have an account ? signup ",o.a.createElement(h.b,{to:"/signup"},"here")))),o.a.createElement(j.a,{item:!0,sm:!0}))}}]),a}(r.Component),K={loginUser:function(e,a){return function(t){t({type:"LOADING_UI"}),y.a.post("/login",e).then((function(e){var n="Bearer ".concat(e.data.token);localStorage.setItem("FBIdToken",n),y.a.defaults.header.common.Authorization=n,t($()),t({type:"CLEAR_ERRORS"}),a.push("/")})).catch((function(e){t({type:"SET_ERRORS",payload:e.response.data})}))}}},Q=Object(M.b)((function(e){return{user:e.user,UI:e.UI}}),K)(I()((function(e){return Object(L.a)({},e.spreadThis)}))(q)),Y=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(m.a)(this,Object(d.a)(a).call(this))).handleSubmit=function(a){a.preventDefault(),e.setState({loading:!0});var t={email:e.state.email,password:e.state.password,confirmPassword:e.state.confirmPassword,handle:e.state.handle};y.a.post("/signup",t).then((function(a){localStorage.setItem("FBIdToken","Bearer ".concat(a.data.token)),e.setState({loading:!1}),e.props.history.push("/")})).catch((function(a){e.setState({errors:a.response.data,loading:!1})}))},e.handleChange=function(a){e.setState(Object(F.a)({},a.target.name,a.target.value))},e.state={email:"",password:"",confirmPassword:"",handle:"",loading:!1,errors:{}},e.handleSubmit=e.handleSubmit.bind(Object(W.a)(e)),e.handleChange=e.handleChange.bind(Object(W.a)(e)),e}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes,a=this.state,t=a.errors,n=a.loading;return o.a.createElement(j.a,{container:!0,className:e.form},o.a.createElement(U.a,{variant:"h3",className:e.pageTitle},"Created with react",o.a.createElement("img",{src:z.a,alt:"media",className:e.image2})),o.a.createElement(j.a,{item:!0,sm:!0}),o.a.createElement(j.a,{item:!0,sm:!0},o.a.createElement("img",{src:H.a,alt:"media",className:e.image}),o.a.createElement(U.a,{variant:"h2",className:e.pageTitle},"SignUp"),o.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},o.a.createElement(X.a,{id:"email",name:"email",type:"email",label:"Email",className:e.textField,helperText:t.email,error:!!t.email,value:this.state.email,onChange:this.handleChange,fullWidth:!0}),o.a.createElement(X.a,{id:"password",name:"password",type:"password",label:"Password",className:e.textField,helperText:t.password,error:!!t.password,value:this.state.password,onChange:this.handleChange,fullWidth:!0}),o.a.createElement(X.a,{id:"confirmPassword",name:"confirmPassword",type:"password",label:"Confirm Password",className:e.textField,helperText:t.confirmPassword,error:!!t.confirmPassword,value:this.state.confirmPassword,onChange:this.handleChange,fullWidth:!0}),o.a.createElement(X.a,{id:"handle",name:"handle",type:"text",label:"Handle",className:e.textField,helperText:t.handle,error:!!t.handle,value:this.state.handle,onChange:this.handleChange,fullWidth:!0}),t.general&&o.a.createElement(U.a,{variant:"body2",className:e.customError},t.general),o.a.createElement(G.a,{type:"submit",variant:"contained",color:"primary",classsName:e.button,disabled:n},"SignUp",n&&o.a.createElement(J.a,{size:30,className:e.progress})),o.a.createElement("br",null),o.a.createElement("small",null,"Already have an account ? login ",o.a.createElement(h.b,{to:"/login"},"here")))),o.a.createElement(j.a,{item:!0,sm:!0}))}}]),a}(r.Component),Z=I()((function(e){return Object(L.a)({},e.spreadThis)}))(Y),ee=t(188),ae=t(189),te=function(e){function a(){return Object(c.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(ee.a,null,o.a.createElement(ae.a,{className:"nav-container"},o.a.createElement(G.a,{color:"inherit",component:h.b,to:"/login"},"Login"),o.a.createElement(G.a,{color:"inherit",component:h.b,to:"/"},"Home"),o.a.createElement(G.a,{color:"inherit",component:h.b,to:"/signup"},"Signup")))}}]),a}(r.Component),ne=t(2),re=function(e){var a=e.component,t=e.authenticated,n=Object(ne.a)(e,["component","authenticated"]);return o.a.createElement(p.b,Object.assign({},n,{render:function(e){return!0===t?o.a.createElement(p.a,{to:"/"}):o.a.createElement(a,e)}}))},oe=t(38),ie=t(91),le={authenticated:!1,credentials:{},likes:[],notifications:[]},ce=t(92),se=t.n(ce),me={loading:!1,errors:null},de=[ie.a],ue=Object(oe.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_AUTHENTICATED":return Object(L.a)({},e,{authenticated:!0});case"SET_UNAUTHENTICATED":return le;case"SET_USER":return Object(L.a)({authenticated:!0},a.payload);default:return e}},data:se.a,UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_ERRORS":return Object(L.a)({},e,{loading:!1,errors:a.payload});case"CLEAR_ERRORS":return Object(L.a)({},e,{loading:!1,errors:null});case"LOADING_UI":return Object(L.a)({},e,{loading:!0});default:return e}}}),he=Object(oe.e)(ue,{},Object(oe.d)(oe.a.apply(void 0,de),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),pe=O()({palette:{primary:{light:"#33c9dc",main:"#7944ff",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}},spreadThis:{typography:{useNextVariants:!0},form:{textAlign:"center"},image:{width:220,height:220,margin:"10px auto 10px auto"},image2:{width:280,height:200,margin:"10px auto 10px auto"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},button:{marginTop:20,position:"relative"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"}}}),ge=localStorage.FBIdToken;ge&&(1e4*f()(ge).exp<Date.now()?(window.location.href="/login",n=!1):n=!0);var fe=function(e){function a(){return Object(c.a)(this,a),Object(m.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(b.a,{theme:pe},o.a.createElement(M.a,{store:he},o.a.createElement(h.a,null,o.a.createElement(te,null),o.a.createElement("div",{className:"container"},o.a.createElement(p.d,null,o.a.createElement(p.b,{exact:!0,path:"/",component:D}),o.a.createElement(re,{exact:!0,path:"/login",component:Q,authenticated:n}),o.a.createElement(re,{exact:!0,path:"/signup",component:Z,authenticated:n}))))))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},52:function(e,a,t){e.exports=t.p+"static/media/icon.e49a74f3.png"},53:function(e,a,t){e.exports=t.p+"static/media/react.580ffd26.png"},92:function(e,a){}},[[101,1,2]]]);
//# sourceMappingURL=main.2f1a7d36.chunk.js.map